(()=>{"use strict";function t(){document.querySelectorAll(".card-logo").forEach((t=>{t.classList.remove("active"),t.classList.remove("faded")}))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("cardnumber"),n=document.getElementById("validate"),r=document.getElementById("validation-result");n.addEventListener("click",(n=>{n.preventDefault();const o=e.value.trim();if(r.textContent="",!o)return void(r.textContent="Введите номер карты");if(!function(t){if(!t||t.length<13||t.length>19)return!1;let e=0,n=!1;for(let r=(t=t.replace(/[\s-]/g,"")).length-1;r>=0;r--){let o=parseInt(t.charAt(r),10);if(isNaN(o))return!1;n&&(o*=2,o>9&&(o-=9)),e+=o,n=!n}return e%10==0}(o))return r.textContent="Неверный номер карты",void t();const c=function(t){t=t.replace(/[\s-]/g,"");const e={Visa:/^4[0-9]{12}(?:[0-9]{3})?(?:[0-9]{3})?$/,MasterCard:/^54[5-9][0-9]{13}|55[5-9][0-9]{13}$/,AmericanExpress:/^(34[0-9]{13}|37[0-9]{13})$/,Discover:/^6011[0-9]{12}(?:[0-9]{3})?$/,JCB:/^(35[2-8][0-9]{13}|35[2-8][0-9]{15,16})$/,DinersClub:/^(30[0-5][0-9]{11}|36[0-9]{12}|38[0-9]{12}|54[0-4][0-9]{13}|55[0-4][0-9]{13})$/,МИР:/^2200[0-9]{12}(?:[0-9]{3})?$/};for(const[n,r]of Object.entries(e))if(r.test(t))return n;return null}(o);c?(!function(e){t(),document.querySelectorAll(".card-logo").forEach((t=>{t.alt===e?t.classList.add("active"):t.classList.add("faded")}))}(c),r.textContent="Карта валидна"):(r.textContent="Неизвестная платежная система",t())}))}))})();